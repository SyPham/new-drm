(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1AaR":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("tk/3"),s=i("AytR"),r=i("fXoL");new n.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let a=(()=>{class t{constructor(t){this.http=t,this.baseUrl=s.a.apiUrlEC}hasLock(t,e,i){return this.http.get(`${this.baseUrl}Abnormal/HasLock/${t}/${e}/${i}`)}getBatchByIngredientID(t){return this.http.get(`${this.baseUrl}Abnormal/GetBatchByIngredientID/${t}`)}getAll(){return this.http.get(this.baseUrl+"Abnormal/GetAll",{})}create(t){return this.http.post(this.baseUrl+"Abnormal/Create",t)}createRange(t){return this.http.post(this.baseUrl+"Abnormal/CreateRange",t)}update(t){return this.http.put(this.baseUrl+"Abnormal/Update",t)}delete(t){return this.http.delete(this.baseUrl+"Abnormal/Delete/"+t)}getBuildingByIngredientAndBatch(t,e){return this.http.get(`${this.baseUrl}Abnormal/GetBuildingByIngredientAndBatch/${t}/${e}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(n.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KLU1:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("AytR"),s=i("fXoL"),r=i("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.baseUrl=n.a.apiUrlEC}getAllSetting(){return this.http.get(this.baseUrl+"Setting/GetAllSetting",{})}getAllGlueType(){return this.http.get(this.baseUrl+"Setting/GetAllGlueType",{})}getSettingByBuilding(t){return this.http.get(this.baseUrl+"Setting/GetSettingByBuilding/"+t,{})}getMachineByBuilding(t){return this.http.get(this.baseUrl+"Setting/GetMachineByBuilding/"+t,{})}deleteSetting(t){return this.http.delete(this.baseUrl+"Setting/DeleteSetting/"+t,{})}deleteMachine(t){return this.http.delete(this.baseUrl+"Setting/DeleteMachine/"+t,{})}AddStir(t){return this.http.post(this.baseUrl+"Setting/Create",t)}addSetting(t){return this.http.post(this.baseUrl+"Setting/CreateSetting",t)}addMachine(t){return this.http.post(this.baseUrl+"Setting/CreateMachine",t)}updateStir(t){return this.http.put(this.baseUrl+"Setting/Update",t)}updateSetting(t){return this.http.put(this.baseUrl+"Setting/UpdateSetting",t)}updateMachine(t){return this.http.put(this.baseUrl+"Setting/UpdateMachine",t)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(r.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KOup:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("mrSG"),s=i("XNiG"),r=i("Kj3r"),a=i("fXoL");let o=(()=>{class t{constructor(t){this.host=t,this.subject=new s.a,this.subscription=[]}onFocus(){setTimeout(()=>{this.host.nativeElement.select()},0)}onChange(t){this.subject.next(t)}ngAfterViewInit(){setTimeout(()=>{this.host.nativeElement.focus()},300)}ngOnInit(){this.subscription.push(this.subject.pipe(Object(r.a)(500)).subscribe(t=>Object(n.a)(this,void 0,void 0,function*(){this.host.nativeElement.select()})))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}onKeydownHandler(t){t.preventDefault(),this.host.nativeElement.value=this.host.nativeElement.value+"    "}onKeydownTabHandler(t){t.preventDefault(),this.host.nativeElement.value=this.host.nativeElement.value+"    "}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(a.l))},t.\u0275dir=a.Hb({type:t,selectors:[["","autoselect",""]],hostBindings:function(t,e){1&t&&a.cc("focus",function(){return e.onFocus()})("ngModelChange",function(t){return e.onChange(t)})("keydown.enter",function(t){return e.onKeydownHandler(t)},!1,a.zc)("keydown.tab",function(t){return e.onKeydownTabHandler(t)},!1,a.zc)}}),t})()},YW37:function(t,e,i){"use strict";i.d(e,"a",function(){return D});var n=i("mrSG"),s=i("XNiG"),r=i("Kj3r"),a=i("fXoL"),o=i("1kSV"),h=i("pwR+"),l=i("1AaR"),c=i("HJFG"),u=i("ofXK"),d=i("XMGJ"),g=i("3Pt+"),p=i("KOup"),b=i("GJ+o"),m=i("0jTc"),f=i("QUNt"),y=i("uF4Q"),I=i("sYmb");function U(t,e){1&t&&(a.Kc(0),a.hc(1,"translate")),2&t&&a.Mc(" ",a.ic(1,1,"Daughter cans")," ")}function S(t,e){1&t&&a.Kc(0),2&t&&a.Mc(" ",e.$implicit.name," ")}function B(t,e){1&t&&(a.Kc(0),a.hc(1,"translate")),2&t&&a.Mc(" ",a.ic(1,1,"Glue Name")," ")}function v(t,e){if(1&t&&(a.Sb(0,"div"),a.Nb(1,"ejs-qrcodegenerator",26),a.Rb()),2&t){const t=e.$implicit,i=a.gc();a.zb(1),a.nc("value",t.code),a.mc("id",t.code)("displayText",i.displayTextMethod)}}let D=(()=>{class t{constructor(t,e,i,n,r,a){this.activeModal=t,this.bottomFactoryService=e,this.abnormalService=i,this.alertify=n,this.datePipe=r,this.todolistService=a,this.subpackages=[],this.subscription=[],this.subject=new s.a,this.can="",this.displayTextMethod={visibility:!1}}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ngOnInit(){console.log("oninit",this.data),this.status=null,this.statusText="",this.checkQRCodeV110()}onkeypress(t){null!==this.can.match(/^-?(0|[1-9]\d*)?$/)?(this.generateSubpackageParams={amountOfChemical:this.chemical.unit,buildingID:this.data.buildingID,mixingInfoID:this.mixingInfoID,can:+this.can,glueName:this.data.glueName,glueNameID:this.data.glueNameID},console.log("onkeypress",this.generateSubpackageParams),this.generateScanByNumber()):this.alertify.warning("Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1! <br> Only key in number!",!0)}onkeypressV110(t){if(null===this.can.match(/^-?(0|[1-9]\d*)?$/))return void this.alertify.warning("Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1! <br> Only key in number!",!0);this.subpackages=[];let e=null==this.subpackageLatestItem?0:this.subpackageLatestItem.position;for(let i=0;i<=+this.can-1;i++){e+=1;const t={code:`${this.mixingInfoCode}_${this.batch}_${e}`,glueName:this.data.glueName,name:`${this.data.glueName}_${e}`,glueNameID:this.data.glueNameID,position:e,mixingInfoID:0,expiredTime:new Date((new Date).setHours(this.chemical.expiredTime)),createdBy:JSON.parse(localStorage.getItem("user")).User.ID,createdTime:new Date,amount:this.subpackageCapacity.capacity};this.subpackages.push(t)}}checkStatus(){return null===this.status?(this.statusText="",""):!0===this.status?(this.statusText="OK","success-scan"):!1===this.status?(this.statusText="NO","warning-scan"):void 0}checkQRCode(){this.subscription.push(this.subject.pipe(Object(r.a)(500)).subscribe(t=>Object(n.a)(this,void 0,void 0,function*(){var e,i;const n=yield this.validateQRCode(t);!1!==n.status&&(this.chemical=n.ingredient,this.subpackages=n.subpackages,this.mixingInfoID=n.mixingInfoID,(null===(e=this.subpackages)||void 0===e?void 0:e.length)>=0&&(this.can=null===(i=this.subpackages)||void 0===i?void 0:i.length))})))}checkQRCodeV110(){this.subscription.push(this.subject.pipe(Object(r.a)(500)).subscribe(t=>Object(n.a)(this,void 0,void 0,function*(){const e=yield this.validateQRCode(t);!1!==e.status&&(this.chemical=e.ingredient,this.mixingInfoCode=e.code,this.batch=e.batch,this.getInfo())})))}validateQRCode(t){return Object(n.a)(this,void 0,void 0,function*(){t.QRCode.split("-");const e=t.QRCode.match(/(\d+)-(\w+)-/g),i=t.QRCode.replace(e[0],"");if((e[0]+i).length!==t.QRCode.length)return this.alertify.warning("The QR Code is invalid!<br> M\xe3 QR kh\xf4ng h\u1ee3p l\u1ec7! Vui l\xf2ng th\u1eed l\u1ea1i m\xe3 kh\xe1c.",!0),{status:!1};this.partNO=i,this.scanParams={partNO:i,glueID:this.data.glueID,glueName:this.data.glueName,batchNO:"DEFAULT",glueNameID:this.data.glueNameID,mixingInfoID:this.data.mixingInfoID,buildingID:this.data.buildingID,estimatedStartTime:this.data.estimatedStartTime,estimatedFinishTime:this.data.estimatedFinishTime};const n=yield this.scanQRCode();return this.status=n.status,this.mixingInfoCode=n.code,this.batch=n.batch,this.mixingInfoID=n.data.mixingInfoID,console.log("scannQRcode",n),{status:!0,ingredient:n.data.ingredient,code:n.data.code,batch:n.data.batch,subpackages:n.data.subpackages,mixingInfoID:n.data.mixingInfoID}})}getInfo(){this.bottomFactoryService.getSubpackageCapacity().subscribe(t=>{this.subpackageCapacity=t}),this.bottomFactoryService.getSubpackageLatestSequence(this.batch,this.data.glueNameID,this.data.buildingID).subscribe(t=>{this.subpackageLatestItem=t})}hasLock(t,e){const i=this.data.buildingName;return new Promise((n,s)=>{this.abnormalService.hasLock(t,i,e).subscribe(t=>{n(t)},t=>{s(!1)})})}scanQRCode(){return Object(n.a)(this,void 0,void 0,function*(){return new Promise((t,e)=>{this.bottomFactoryService.scanQRCode(this.scanParams).subscribe(e=>{t(e)},t=>{e(t)})})})}generateScanByNumber(){return new Promise((t,e)=>{this.bottomFactoryService.generateScanByNumber(this.generateSubpackageParams).subscribe(t=>{this.subpackages=t.data},t=>{this.alertify.error(t)})})}onNgModelChangeScanQRCode(t){return Object(n.a)(this,void 0,void 0,function*(){this.subject.next({QRCode:t,ingredient:null})})}printData(){return Object(n.a)(this,void 0,void 0,function*(){if(void 0===this.subpackages||0===this.subpackages.length||null===this.subpackages)return void this.alertify.warning("Vui l\xf2ng qu\xe9t m\xe3 QR v\xe0 nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng can c\u1ea7n chia!",!0);let t="";for(const e of this.subpackages){const i=document.getElementById(e.code),n="0001-01-01T00:00:00"===e.expiredTime?"N/A":this.datePipe.transform(new Date(e.expiredTime),"YYYYMMdd HH:mm");t+=`\n       <div class='content'>\n        <div class='qrcode'>\n         ${i.innerHTML}\n         </div>\n          <div class='info'>\n          <ul>\n          <li class='subInfo'>Name: ${e.name}</li>\n          <li class='subInfo'>Code: ${e.code}</li>\n          <li class='subInfoNho' >MFG: ${this.datePipe.transform(new Date(e.createdTime),"YYYYMMdd HH:mm")}</li>\n          <li class='subInfoNho' >EXP: ${n}</li>\n          </ul>\n         </div>\n      </div>\n      `}this.configurePrint(t),this.bottomFactoryService.saveSubpackage({subpackages:this.subpackages,ingredient:this.chemical,partNO:this.partNO,glueID:this.data.glueID,glueName:this.data.glueName,batchNO:"DEFAULT",glueNameID:this.data.glueNameID,mixingInfoID:this.data.mixingInfoID,mixingInfoCode:this.mixingInfoCode,buildingID:this.data.buildingID,estimatedStartTime:this.data.estimatedStartTime,estimatedFinishTime:this.data.estimatedFinishTime}).subscribe(()=>{this.todolistService.setValue(!0),this.activeModal.close()})})}configurePrint(t){const e=window.open("","_blank","left=0,top=0,width=1000,height=900,toolbar=0,scrollbars=0,status=0");e.document.write(`\n    <html>\n      <head>\n      </head>\n      <style>\n        * {\n          box-sizing: border-box;\n          -moz-box-sizing: border-box;\n        }\n\n        .content {\n          page-break-after: always;\n          clear: both;\n        }\n\n        .content .qrcode {\n          float:left;\n          width: 100px;\n          margin-top: 10px;\n          padding: 0;\n          margin-left: 0px;\n        }\n\n        .content .info {\n          float:left;\n          list-style: none;\n          width: 200px;\n        }\n        .content .info ul {\n          float:left;\n          list-style: none;\n          padding: 0px;\n          margin: 0px;\n          margin-top: 20px;\n          font-weight: bold;\n          word-wrap: break-word;\n        }\n\n        @page {\n          size: 2.65 1.20 in;\n          page-break-after: always;\n          margin: 0;\n        }\n        @media print {\n          html, body {\n            width: 90mm; // Chi co nhan millimeter\n          }\n        }\n      </style>\n      <body onload="window.print(); window.close()">\n        ${t}\n      </body>\n    </html>\n    `),e.document.close()}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.a),a.Mb(h.a),a.Mb(l.a),a.Mb(c.a),a.Mb(u.d),a.Mb(d.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-subpackage"]],inputs:{data:"data"},decls:41,vars:19,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body","p-0"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card"],[1,"card-body","d-flex","justify-content-start","align-items-center"],[1,"modal-title",2,"width","18%"],["type","text","id","status","placeholder","Status",1,"form-control","ml-2",2,"width","15%","cursor","not-allowed","pointer-events","none",3,"ngModel","ngModelChange"],["type","text","autoselect","","id","scanner","placeholder","Scan QRCode of chemical",1,"form-control","mx-2",2,"width","52%",3,"ngModel","ngModelChange"],["type","text","id","keyin","placeholder","Number of can",1,"form-control","mr-2",2,"width","20%",3,"ngModel","keyup.enter","ngModelChange"],[1,"card-body","table-responsive","p-0"],[3,"dataSource"],["grid",""],["field","name","headerText","Daughter cans","width","92","textAlign","Center"],["headerTemplate",""],["template",""],["field","glueName","headerText","Glue Name","width","344","textAlign","Center"],["field","amount","headerText","KG","width","138","textAlign","Center"],[1,"modal-footer","justify-content-center","d-flex"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa","fa-save"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-check"],[2,"position","absolute","top","5000px"],[4,"ngFor","ngForOf"],["width","100px","height","130px","mode","SVG",2,"display","block",3,"id","displayText","value"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"h4",1),a.Kc(2),a.hc(3,"translate"),a.Rb(),a.Rb(),a.Sb(4,"div",2),a.Sb(5,"div",3),a.Sb(6,"div",4),a.Sb(7,"div",5),a.Sb(8,"div",6),a.Sb(9,"h4",7),a.Kc(10),a.hc(11,"translate"),a.Rb(),a.Sb(12,"input",8),a.cc("ngModelChange",function(t){return e.statusText=t}),a.Rb(),a.Sb(13,"input",9),a.cc("ngModelChange",function(t){return e.onNgModelChangeScanQRCode(t)})("ngModelChange",function(t){return e.qrCode=t}),a.Rb(),a.Sb(14,"input",10),a.cc("keyup.enter",function(t){return e.onkeypressV110(t)})("ngModelChange",function(t){return e.can=t}),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(15,"div",4),a.Sb(16,"div",5),a.Sb(17,"div",11),a.Sb(18,"ejs-grid",12,13),a.Sb(20,"e-columns"),a.Sb(21,"e-column",14),a.Ic(22,U,2,3,"ng-template",null,15,a.Jc),a.Ic(24,S,1,1,"ng-template",null,16,a.Jc),a.Rb(),a.Sb(26,"e-column",17),a.Ic(27,B,2,3,"ng-template",null,15,a.Jc),a.Rb(),a.Nb(29,"e-column",18),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(30,"div",19),a.Sb(31,"button",20),a.cc("click",function(){return e.activeModal.close("Close click")}),a.Nb(32,"i",21),a.Kc(33),a.hc(34,"translate"),a.Rb(),a.Sb(35,"button",22),a.cc("click",function(){return e.printData()}),a.Nb(36,"i",23),a.Kc(37),a.hc(38,"translate"),a.Rb(),a.Rb(),a.Sb(39,"div",24),a.Ic(40,v,2,3,"div",25),a.Rb()),2&t&&(a.zb(2),a.Mc("",a.ic(3,11,"Subpackage")," "),a.zb(8),a.Mc("",a.ic(11,13,"Mother Can"),":"),a.zb(2),a.Bb(e.checkStatus()),a.mc("ngModel",e.statusText),a.zb(1),a.mc("ngModel",e.qrCode),a.zb(1),a.mc("ngModel",e.can),a.zb(4),a.mc("dataSource",e.subpackages),a.zb(15),a.Mc(" ",a.ic(34,15,"SAVE"),""),a.zb(4),a.Mc(" ",a.ic(38,17,"Print"),""),a.zb(3),a.mc("ngForOf",e.subpackages))},directives:[g.b,g.g,g.j,p.a,b.j,m.d,f.d,f.b,b.e,b.b,m.c,f.c,f.a,b.d,b.a,u.m,y.e],pipes:[I.c],styles:["input.warning-scan[_ngcontent-%COMP%]{color:#000!important;-webkit-animation:warning-frames .5s infinite;animation:warning-frames .5s infinite}input.success-scan[_ngcontent-%COMP%], input.warning-scan[_ngcontent-%COMP%]{width:100%;padding:12px 20px;box-sizing:border-box}input.success-scan[_ngcontent-%COMP%]{border:none;background-color:#3cbc8d;font-weight:700;border:none!important;color:#fff!important}@-webkit-keyframes warning-frames{0%{background-color:#fffb00}to{background-color:#ffea75}}@keyframes warning-frames{0%{background-color:#fffb00}to{background-color:#ffea75}}"]}),t})()},"h9f+":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("2Vo4"),s=i("lJxs"),r=i("tk/3"),a=i("AytR"),o=i("2zK7"),h=i("fXoL");new r.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let l=(()=>{class t{constructor(t){this.http=t,this.baseUrl=a.a.apiUrlEC,this.authUrl=a.a.apiUrl,this.messageSource=new n.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(t){this.messageSource.next(t)}getBuildingsAsTreeView(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}mappingUserWithBuilding(t){return this.http.post(this.baseUrl+"BuildingUser/MappingUserWithBuilding",t)}removeBuildingUser(t){return this.http.post(this.baseUrl+"BuildingUser/RemoveBuildingUser",t)}getAllUsers(t,e){const i=new o.a;return this.http.get(`${this.authUrl}Users/GetAllUsers/${a.a.systemCode}/${t}/${e}`,{observe:"response"}).pipe(Object(s.a)(t=>(i.result=t.body,null!=t.headers.get("Pagination")&&(i.pagination=JSON.parse(t.headers.get("Pagination"))),i)))}deleteUser(t){return this.http.delete(`${this.authUrl}Users/Delete/${t}`)}updateUser(t){return this.http.post(this.authUrl+"Users/Update",t)}createUser(t){return this.http.post(this.authUrl+"Users/Create",t)}getAllBuildingUsers(){return this.http.get(this.baseUrl+"BuildingUser/getAllBuildingUsers")}getBuildingUserByBuildingID(t){return this.http.get(`${this.baseUrl}BuildingUser/GetBuildingUserByBuildingID/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.b))},t.\u0275prov=h.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},iStF:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return s});let n=(()=>{class t{}return t.ROOT_LEVEL=1,t.BUILDING_LEVEL=2,t.LINE_LEVEL=3,t})(),s=(()=>{class t{}return t.ADMIN=1,t.SUPERVISOR=2,t.STAFF=3,t.WORKER=4,t.DISPATCHER=6,t})()},mrSG:function(t,e,i){"use strict";function n(t,e,i,n){return new(i||(i=Promise))(function(s,r){function a(t){try{h(n.next(t))}catch(e){r(e)}}function o(t){try{h(n.throw(t))}catch(e){r(e)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,o)}h((n=n.apply(t,e||[])).next())})}i.d(e,"a",function(){return n})},"pwR+":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("2Vo4"),s=i("tk/3"),r=i("AytR"),a=i("fXoL");new s.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let o=(()=>{class t{constructor(t){this.http=t,this.baseUrl=r.a.apiUrlEC,this.data=new n.a(null)}setValue(t){this.data.next(t)}getValue(){return this.data.asObservable()}cancel(t){return this.http.post(this.baseUrl+"BottomFactory/Cancel",t)}cancelRange(t){return this.http.post(this.baseUrl+"BottomFactory/cancelRange",t)}EVAUVList(t){return this.http.get(this.baseUrl+"BottomFactory/EVAUVList/"+t,{})}done(t){return this.http.get(this.baseUrl+"BottomFactory/Done/"+t,{})}todo(t){return this.http.get(this.baseUrl+"BottomFactory/ToDo/"+t,{})}todoAddition(t){return this.http.get(this.baseUrl+"BottomFactory/ToDoAddition/"+t,{})}dispatchAddition(t){return this.http.get(this.baseUrl+"BottomFactory/dispatchAddition/"+t,{})}dispatchList(t){return this.http.get(this.baseUrl+"BottomFactory/DispatchList/"+t,{})}delay(t){return this.http.get(this.baseUrl+"BottomFactory/Delay/"+t,{})}printGlue(t){return this.http.get(this.baseUrl+"BottomFactory/printGlue/"+t,{})}findPrintGlue(t){return this.http.get(this.baseUrl+"BottomFactory/FindPrintGlue/"+t,{})}dispatch(t){return this.http.post(this.baseUrl+"BottomFactory/Dispatch",t)}updateStartStirTimeByMixingInfoID(t){return this.http.put(this.baseUrl+"BottomFactory/updateStartStirTimeByMixingInfoID/"+t,{})}updateFinishStirTimeByMixingInfoID(t){return this.http.put(this.baseUrl+"BottomFactory/updateFinishStirTimeByMixingInfoID/"+t,{})}generateToDoList(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateToDoList",t)}generateDispatchList(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateDispatchList",t)}exportExcel(t){return this.http.get(`${this.baseUrl}BottomFactory/ExportExcel/${t}`,{responseType:"blob"})}exportExcel2(t){return this.http.get(`${this.baseUrl}BottomFactory/GetNewReport/${t}`,{responseType:"blob"})}getMixingDetail(t){return this.http.post(this.baseUrl+"BottomFactory/GetMixingDetail",{glueName:t})}finishDispatch(t){return this.http.put(this.baseUrl+"BottomFactory/FinishDispatch",t)}getDispatchDetail(t,e,i,n){return this.http.get(`${this.baseUrl}BottomFactory/GetDispatchDetail/${t}/${e}/${i}/${n}`)}getMixingInfoHistory(t,e,i,n){return this.http.get(`${this.baseUrl}BottomFactory/GetMixingInfoHistory/${t}/${e}/${i}/${n}`)}updateDispatchDetail(t){return this.http.put(this.baseUrl+"BottomFactory/UpdateDispatchDetail",t)}getDispatchListDetail(t,e,i){return this.http.get(`${this.baseUrl}BottomFactory/GetDispatchListDetail/${t}/${e}/${i}`)}printGlueDispatchList(t,e,i,n){return this.http.get(`${this.baseUrl}BottomFactory/printGlueDispatchList/${t}/${e}/${i}/${n}`,{})}updateMixingInfoDispatchList(t,e,i,n){return this.http.get(`${this.baseUrl}BottomFactory/UpdateMixingInfoDispatchList/${t}/${e}/${i}/${n}`,{})}addOvertime(t){return this.http.post(this.baseUrl+"BottomFactory/AddOvertime",t)}removeOvertime(t){return this.http.post(this.baseUrl+"BottomFactory/RemoveOvertime",t)}dispatchListDelay(t){return this.http.get(this.baseUrl+"BottomFactory/DispatchListDelay/"+t,{})}scanQRCode(t){return this.http.post(this.baseUrl+"BottomFactory/scanQRCode/",t)}generateScanByNumber(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateScanByNumber/",t)}print(t){return this.http.post(this.baseUrl+"BottomFactory/Print",{subpackages:t})}saveSubpackage(t){return this.http.post(this.baseUrl+"BottomFactory/SaveSubpackage",t)}addDispatch(t){return this.http.post(this.baseUrl+"BottomFactory/addDispatch",t)}updateDispatch(t){return this.http.put(this.baseUrl+"BottomFactory/UpdateDispatch",t)}getAllDispatch(t){const e=(new s.f).set("buildingID",t.buildingID+"").set("mixingInfoID",t.mixingInfoID+"").set("glueNameID",t.glueNameID+"");return this.http.get(this.baseUrl+"BottomFactory/GetAllDispatch",{params:e})}getMixingInfo(t){return this.http.get(this.baseUrl+"BottomFactory/GetMixingInfo/"+t,{})}getSubpackageCapacity(){return this.http.get(this.baseUrl+"BottomFactory/GetSubpackageCapacity",{})}getSubpackageLatestSequence(t,e,i){return this.http.get(`${this.baseUrl}BottomFactory/GetSubpackageLatestSequence/${t}/${e}/${i}`,{})}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(s.b))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vrRs:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("tk/3"),s=i("2Vo4"),r=i("lJxs"),a=i("AytR"),o=i("2zK7"),h=i("fXoL");new n.e({"Content-Type":"application/json"});let l=(()=>{class t{constructor(t){this.http=t,this.baseUrl=a.a.apiUrlEC,this.ingredientSource=new s.a(0),this.currentIngredient=this.ingredientSource.asObservable()}getIngredients(t,e){const i=new o.a;let s=new n.f;return null!=t&&null!=e&&(s=s.append("pageNumber",t),s=s.append("pageSize",e)),this.http.get(this.baseUrl+"ingredient/getingredients",{observe:"response",params:s}).pipe(Object(r.a)(t=>(i.result=t.body,null!=t.headers.get("Pagination")&&(i.pagination=JSON.parse(t.headers.get("Pagination"))),i)))}search(t,e,i){const s=new o.a;let a=new n.f;return null!=t&&null!=e&&(a=a.append("pageNumber",t),a=a.append("pageSize",e)),this.http.get(this.baseUrl+"ingredient/Search/"+i,{observe:"response",params:a}).pipe(Object(r.a)(t=>(s.result=t.body,null!=t.headers.get("Pagination")&&(s.pagination=JSON.parse(t.headers.get("Pagination"))),s)))}getAllIngredient(){return this.http.get(this.baseUrl+"ingredient/GetAll",{})}getAllGlueType(){return this.http.get(this.baseUrl+"ingredient/GetAllGlueType",{})}getByID(t){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+t,{})}scanQRCode(t){return this.http.get(this.baseUrl+"ingredient/ScanQRCode/"+t,{})}scanQRCodeFromChemicalWareHouse(t,e,i){return this.http.get(`${this.baseUrl}ingredient/ScanQRCodeFromChemialWareHouse/${t}/${e}/${i}`,{})}scanQRCodeOutput(t,e,i){return this.http.get(`${this.baseUrl}ingredient/ScanQRCodeOutput/${t}/${e}/${i}`,{})}getAllSupplier(){return this.http.get(this.baseUrl+"Suppier/GetAll",{})}getAllIngredientInfo(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfo",{})}getAllIngredientInfoOutput(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutPut",{})}getAllIngredientInfoByBuildingName(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuildingName/"+t,{})}getAllIngredientInfoReport(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReport",{})}getAllIngredientInfoReportByBuildingName(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReportByBuildingName/"+t,{})}searchInventory(t,e){return this.http.get(`${this.baseUrl}ingredient/Search/${t}/${e}`,{})}searchInventoryByBuildingName(t,e,i){return this.http.get(`${this.baseUrl}ingredient/SearchWithBuildingName/${t}/${e}/${i}`,{})}deleteIngredientInfo(t,e,i,n){return this.http.delete(this.baseUrl+`ingredient/DeleteIngredientInfo/${t}/${e}/${i}/${n}`)}UpdateConsumption(t,e,i){return this.http.post(this.baseUrl+`ingredient/UpdateConsumptionIngredientReport/${t}/${e}/${i}`,{})}UpdateConsumptionOfBuilding(t){return this.http.post(this.baseUrl+"ingredient/UpdateConsumptionOfBuildingIngredientReport",t)}createSub(t){return this.http.post(this.baseUrl+"suppier/create",t)}updateSub(t){return this.http.put(this.baseUrl+"suppier/update",t)}deleteSub(t){return this.http.delete(this.baseUrl+"suppier/delete/"+t)}sortBySup(t,e){return this.http.get(this.baseUrl+`GlueIngredient/GetIngredientsByGlueID/${t}/${e}`)}getIngredientsByGlueID(t){return this.http.get(this.baseUrl+"GlueIngredient/GetIngredientsByGlueID/"+t)}create(t){return this.http.post(this.baseUrl+"ingredient/create1",t)}update(t){return this.http.put(this.baseUrl+"ingredient/update",t)}delete(t){return this.http.delete(this.baseUrl+"ingredient/delete/"+t)}changeIngredient(t){this.ingredientSource.next(t)}import(t,e){const i=new FormData;return i.append("UploadedFile",t),i.append("CreatedBy",e),this.http.post(this.baseUrl+"ingredient/Import",i)}downloadFile(){return this.http.post(this.baseUrl+"ingredient/ExcelExport",{})}GetQrcodeByid(t){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+t)}UpdatePrint(t){return this.http.put(this.baseUrl+"ingredient/UpdatePrint",t)}checkIncoming(t,e,i){return this.http.get(`${this.baseUrl}ingredient/CheckIncoming/${t}/${e}/${i}`,{})}getAllIngredientInfoByBuilding(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuilding/"+t,{})}getAllIngredientInfoOutputByBuilding(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutputByBuilding/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(n.b))},t.\u0275prov=h.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},wsp1:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("2Vo4"),s=i("tk/3"),r=i("AytR"),a=i("fXoL");new s.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let o=(()=>{class t{constructor(t){this.http=t,this.baseUrl=r.a.apiUrlEC,this.messageSource=new n.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(t){this.messageSource.next(t)}delete(t){return this.http.delete(`${this.baseUrl}Building/Delete/${t}`)}rename(t){return this.http.put(this.baseUrl+"Building/Update",t)}getBuildingsAsTreeView(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}getBuildings(){return this.http.get(this.baseUrl+"Building/GetBuildings")}getAllBuildingType(){return this.http.get(this.baseUrl+"Building/getAllBuildingType")}getBuildingsForSetting(){return this.http.get(this.baseUrl+"Building/GetBuildingsForSetting")}addOrUpdateLunchTime(t){return this.http.post(this.baseUrl+"Building/AddOrUpdateLunchTime",t)}createMainBuilding(t){return this.http.post(this.baseUrl+"Building/CreateMainBuilding",t)}createSubBuilding(t){return this.http.post(this.baseUrl+"Building/CreateSubBuilding",t)}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(s.b))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);