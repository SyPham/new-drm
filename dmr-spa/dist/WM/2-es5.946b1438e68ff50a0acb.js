!function(){function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1AaR":function(t,e,i){"use strict";i.d(e,"a",function(){return u});var r=i("tk/3"),o=i("AytR"),s=i("fXoL");new r.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});var u=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=o.a.apiUrlEC}return a(t,[{key:"hasLock",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"Abnormal/HasLock/").concat(t,"/").concat(e,"/").concat(n))}},{key:"getBatchByIngredientID",value:function(t){return this.http.get("".concat(this.baseUrl,"Abnormal/GetBatchByIngredientID/").concat(t))}},{key:"getAll",value:function(){return this.http.get(this.baseUrl+"Abnormal/GetAll",{})}},{key:"create",value:function(t){return this.http.post(this.baseUrl+"Abnormal/Create",t)}},{key:"createRange",value:function(t){return this.http.post(this.baseUrl+"Abnormal/CreateRange",t)}},{key:"update",value:function(t){return this.http.put(this.baseUrl+"Abnormal/Update",t)}},{key:"delete",value:function(t){return this.http.delete(this.baseUrl+"Abnormal/Delete/"+t)}},{key:"getBuildingByIngredientAndBatch",value:function(t,e){return this.http.get("".concat(this.baseUrl,"Abnormal/GetBuildingByIngredientAndBatch/").concat(t,"/").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Zb(r.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},KLU1:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var r=i("AytR"),o=i("fXoL"),s=i("tk/3"),u=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=r.a.apiUrlEC}return a(t,[{key:"getAllSetting",value:function(){return this.http.get(this.baseUrl+"Setting/GetAllSetting",{})}},{key:"getAllGlueType",value:function(){return this.http.get(this.baseUrl+"Setting/GetAllGlueType",{})}},{key:"getSettingByBuilding",value:function(t){return this.http.get(this.baseUrl+"Setting/GetSettingByBuilding/"+t,{})}},{key:"getMachineByBuilding",value:function(t){return this.http.get(this.baseUrl+"Setting/GetMachineByBuilding/"+t,{})}},{key:"deleteSetting",value:function(t){return this.http.delete(this.baseUrl+"Setting/DeleteSetting/"+t,{})}},{key:"deleteMachine",value:function(t){return this.http.delete(this.baseUrl+"Setting/DeleteMachine/"+t,{})}},{key:"AddStir",value:function(t){return this.http.post(this.baseUrl+"Setting/Create",t)}},{key:"addSetting",value:function(t){return this.http.post(this.baseUrl+"Setting/CreateSetting",t)}},{key:"addMachine",value:function(t){return this.http.post(this.baseUrl+"Setting/CreateMachine",t)}},{key:"updateStir",value:function(t){return this.http.put(this.baseUrl+"Setting/Update",t)}},{key:"updateSetting",value:function(t){return this.http.put(this.baseUrl+"Setting/UpdateSetting",t)}},{key:"updateMachine",value:function(t){return this.http.put(this.baseUrl+"Setting/UpdateMachine",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Zb(s.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},KOup:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var r=i("mrSG"),o=i("XNiG"),s=i("Kj3r"),u=i("fXoL"),c=function(){var t=function(){function t(e){n(this,t),this.host=e,this.subject=new o.a,this.subscription=[]}return a(t,[{key:"onFocus",value:function(){var t=this;setTimeout(function(){t.host.nativeElement.select()},0)}},{key:"onChange",value:function(t){this.subject.next(t)}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout(function(){t.host.nativeElement.focus()},300)}},{key:"ngOnInit",value:function(){var t=this;this.subscription.push(this.subject.pipe(Object(s.a)(500)).subscribe(function(e){return Object(r.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.host.nativeElement.select();case 1:case"end":return t.stop()}},t,this)}))}))}},{key:"ngOnDestroy",value:function(){this.subscription.forEach(function(t){return t.unsubscribe()})}},{key:"onKeydownHandler",value:function(t){t.preventDefault(),this.host.nativeElement.value=this.host.nativeElement.value+"    "}},{key:"onKeydownTabHandler",value:function(t){t.preventDefault(),this.host.nativeElement.value=this.host.nativeElement.value+"    "}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Mb(u.l))},t.\u0275dir=u.Hb({type:t,selectors:[["","autoselect",""]],hostBindings:function(t,e){1&t&&u.cc("focus",function(){return e.onFocus()})("ngModelChange",function(t){return e.onChange(t)})("keydown.enter",function(t){return e.onKeydownHandler(t)},!1,u.zc)("keydown.tab",function(t){return e.onKeydownTabHandler(t)},!1,u.zc)}}),t}()},YW37:function(e,i,r){"use strict";r.d(i,"a",function(){return x});var o=r("mrSG"),s=r("XNiG"),u=r("Kj3r"),c=r("fXoL"),l=r("1kSV"),h=r("pwR+"),d=r("1AaR"),p=r("HJFG"),g=r("ofXK"),f=r("XMGJ"),b=r("3Pt+"),y=r("KOup"),m=r("GJ+o"),v=r("0jTc"),k=r("QUNt"),I=r("uF4Q"),U=r("sYmb");function S(t,e){1&t&&(c.Kc(0),c.hc(1,"translate")),2&t&&c.Mc(" ",c.ic(1,1,"Daughter cans")," ")}function B(t,e){1&t&&c.Kc(0),2&t&&c.Mc(" ",e.$implicit.name," ")}function w(t,e){1&t&&(c.Kc(0),c.hc(1,"translate")),2&t&&c.Mc(" ",c.ic(1,1,"Glue Name")," ")}function D(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"ejs-qrcodegenerator",26),c.Rb()),2&t){var n=e.$implicit,i=c.gc();c.zb(1),c.nc("value",n.code),c.mc("id",n.code)("displayText",i.displayTextMethod)}}var x=function(){var e=function(){function e(t,i,a,r,o,u){n(this,e),this.activeModal=t,this.bottomFactoryService=i,this.abnormalService=a,this.alertify=r,this.datePipe=o,this.todolistService=u,this.subpackages=[],this.subscription=[],this.subject=new s.a,this.can="",this.displayTextMethod={visibility:!1}}return a(e,[{key:"ngOnDestroy",value:function(){this.subscription.forEach(function(t){return t.unsubscribe()})}},{key:"ngOnInit",value:function(){console.log("oninit",this.data),this.status=null,this.statusText="",this.checkQRCodeV110()}},{key:"onkeypress",value:function(t){null!==this.can.match(/^-?(0|[1-9]\d*)?$/)?(this.generateSubpackageParams={amountOfChemical:this.chemical.unit,buildingID:this.data.buildingID,mixingInfoID:this.mixingInfoID,can:+this.can,glueName:this.data.glueName,glueNameID:this.data.glueNameID},console.log("onkeypress",this.generateSubpackageParams),this.generateScanByNumber()):this.alertify.warning("Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1! <br> Only key in number!",!0)}},{key:"onkeypressV110",value:function(t){if(null!==this.can.match(/^-?(0|[1-9]\d*)?$/)){this.subpackages=[];for(var e=null==this.subpackageLatestItem?0:this.subpackageLatestItem.position,n=0;n<=+this.can-1;n++){e+=1;var i={code:"".concat(this.mixingInfoCode,"_").concat(this.batch,"_").concat(e),glueName:this.data.glueName,name:"".concat(this.data.glueName,"_").concat(e),glueNameID:this.data.glueNameID,position:e,mixingInfoID:0,expiredTime:new Date((new Date).setHours(this.chemical.expiredTime)),createdBy:JSON.parse(localStorage.getItem("user")).User.ID,createdTime:new Date,amount:this.subpackageCapacity.capacity};this.subpackages.push(i)}}else this.alertify.warning("Ch\u1ec9 \u0111\u01b0\u1ee3c nh\u1eadp s\u1ed1! <br> Only key in number!",!0)}},{key:"checkStatus",value:function(){return null===this.status?(this.statusText="",""):!0===this.status?(this.statusText="OK","success-scan"):!1===this.status?(this.statusText="NO","warning-scan"):void 0}},{key:"checkQRCode",value:function(){var t=this;this.subscription.push(this.subject.pipe(Object(u.a)(500)).subscribe(function(e){return Object(o.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validateQRCode(e);case 2:!1!==(a=t.sent).status&&(this.chemical=a.ingredient,this.subpackages=a.subpackages,this.mixingInfoID=a.mixingInfoID,(null===(n=this.subpackages)||void 0===n?void 0:n.length)>=0&&(this.can=null===(i=this.subpackages)||void 0===i?void 0:i.length));case 4:case"end":return t.stop()}},t,this)}))}))}},{key:"checkQRCodeV110",value:function(){var t=this;this.subscription.push(this.subject.pipe(Object(u.a)(500)).subscribe(function(e){return Object(o.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validateQRCode(e);case 2:!1!==(n=t.sent).status&&(this.chemical=n.ingredient,this.mixingInfoCode=n.code,this.batch=n.batch,this.getInfo());case 4:case"end":return t.stop()}},t,this)}))}))}},{key:"validateQRCode",value:function(t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.QRCode.split("-"),n=t.QRCode.match(/(\d+)-(\w+)-/g),i=t.QRCode.replace(n[0],""),(n[0]+i).length===t.QRCode.length){e.next=4;break}return e.abrupt("return",(this.alertify.warning("The QR Code is invalid!<br> M\xe3 QR kh\xf4ng h\u1ee3p l\u1ec7! Vui l\xf2ng th\u1eed l\u1ea1i m\xe3 kh\xe1c.",!0),{status:!1}));case 4:return this.partNO=i,this.scanParams={partNO:i,glueID:this.data.glueID,glueName:this.data.glueName,batchNO:"DEFAULT",glueNameID:this.data.glueNameID,mixingInfoID:this.data.mixingInfoID,buildingID:this.data.buildingID,estimatedStartTime:this.data.estimatedStartTime,estimatedFinishTime:this.data.estimatedFinishTime},e.next=7,this.scanQRCode();case 7:return a=e.sent,e.abrupt("return",(this.status=a.status,this.mixingInfoCode=a.code,this.batch=a.batch,this.mixingInfoID=a.data.mixingInfoID,console.log("scannQRcode",a),{status:!0,ingredient:a.data.ingredient,code:a.data.code,batch:a.data.batch,subpackages:a.data.subpackages,mixingInfoID:a.data.mixingInfoID}));case 9:case"end":return e.stop()}},e,this)}))}},{key:"getInfo",value:function(){var t=this;this.bottomFactoryService.getSubpackageCapacity().subscribe(function(e){t.subpackageCapacity=e}),this.bottomFactoryService.getSubpackageLatestSequence(this.batch,this.data.glueNameID,this.data.buildingID).subscribe(function(e){t.subpackageLatestItem=e})}},{key:"hasLock",value:function(t,e){var n=this,i=this.data.buildingName;return new Promise(function(a,r){n.abnormalService.hasLock(t,i,e).subscribe(function(t){a(t)},function(t){r(!1)})})}},{key:"scanQRCode",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){e.bottomFactoryService.scanQRCode(e.scanParams).subscribe(function(e){t(e)},function(t){n(t)})}));case 1:case"end":return t.stop()}},t)}))}},{key:"generateScanByNumber",value:function(){var t=this;return new Promise(function(e,n){t.bottomFactoryService.generateScanByNumber(t.generateSubpackageParams).subscribe(function(e){t.subpackages=e.data},function(e){t.alertify.error(e)})})}},{key:"onNgModelChangeScanQRCode",value:function(t){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.subject.next({QRCode:t,ingredient:null});case 1:case"end":return e.stop()}},e,this)}))}},{key:"printData",value:function(){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,a,r,o,s,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.subpackages&&0!==this.subpackages.length&&null!==this.subpackages){e.next=2;break}return e.abrupt("return",void this.alertify.warning("Vui l\xf2ng qu\xe9t m\xe3 QR v\xe0 nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng can c\u1ea7n chia!",!0));case 2:n="",i=t(this.subpackages);try{for(i.s();!(a=i.n()).done;)r=a.value,o=document.getElementById(r.code),s="0001-01-01T00:00:00"===r.expiredTime?"N/A":this.datePipe.transform(new Date(r.expiredTime),"YYYYMMdd HH:mm"),n+="\n       <div class='content'>\n        <div class='qrcode'>\n         ".concat(o.innerHTML,"\n         </div>\n          <div class='info'>\n          <ul>\n          <li class='subInfo'>Name: ").concat(r.name,"</li>\n          <li class='subInfo'>Code: ").concat(r.code,"</li>\n          <li class='subInfoNho' >MFG: ").concat(this.datePipe.transform(new Date(r.createdTime),"YYYYMMdd HH:mm"),"</li>\n          <li class='subInfoNho' >EXP: ").concat(s,"</li>\n          </ul>\n         </div>\n      </div>\n      ")}catch(c){i.e(c)}finally{i.f()}this.configurePrint(n),this.bottomFactoryService.saveSubpackage({subpackages:this.subpackages,ingredient:this.chemical,partNO:this.partNO,glueID:this.data.glueID,glueName:this.data.glueName,batchNO:"DEFAULT",glueNameID:this.data.glueNameID,mixingInfoID:this.data.mixingInfoID,mixingInfoCode:this.mixingInfoCode,buildingID:this.data.buildingID,estimatedStartTime:this.data.estimatedStartTime,estimatedFinishTime:this.data.estimatedFinishTime}).subscribe(function(){u.todolistService.setValue(!0),u.activeModal.close()});case 6:case"end":return e.stop()}},e,this)}))}},{key:"configurePrint",value:function(t){var e=window.open("","_blank","left=0,top=0,width=1000,height=900,toolbar=0,scrollbars=0,status=0");e.document.write('\n    <html>\n      <head>\n      </head>\n      <style>\n        * {\n          box-sizing: border-box;\n          -moz-box-sizing: border-box;\n        }\n\n        .content {\n          page-break-after: always;\n          clear: both;\n        }\n\n        .content .qrcode {\n          float:left;\n          width: 100px;\n          margin-top: 10px;\n          padding: 0;\n          margin-left: 0px;\n        }\n\n        .content .info {\n          float:left;\n          list-style: none;\n          width: 200px;\n        }\n        .content .info ul {\n          float:left;\n          list-style: none;\n          padding: 0px;\n          margin: 0px;\n          margin-top: 20px;\n          font-weight: bold;\n          word-wrap: break-word;\n        }\n\n        @page {\n          size: 2.65 1.20 in;\n          page-break-after: always;\n          margin: 0;\n        }\n        @media print {\n          html, body {\n            width: 90mm; // Chi co nhan millimeter\n          }\n        }\n      </style>\n      <body onload="window.print(); window.close()">\n        '.concat(t,"\n      </body>\n    </html>\n    ")),e.document.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Mb(l.a),c.Mb(h.a),c.Mb(d.a),c.Mb(p.a),c.Mb(g.d),c.Mb(f.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-subpackage"]],inputs:{data:"data"},decls:41,vars:19,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body","p-0"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card"],[1,"card-body","d-flex","justify-content-start","align-items-center"],[1,"modal-title",2,"width","18%"],["type","text","id","status","placeholder","Status",1,"form-control","ml-2",2,"width","15%","cursor","not-allowed","pointer-events","none",3,"ngModel","ngModelChange"],["type","text","autoselect","","id","scanner","placeholder","Scan QRCode of chemical",1,"form-control","mx-2",2,"width","52%",3,"ngModel","ngModelChange"],["type","text","id","keyin","placeholder","Number of can",1,"form-control","mr-2",2,"width","20%",3,"ngModel","keyup.enter","ngModelChange"],[1,"card-body","table-responsive","p-0"],[3,"dataSource"],["grid",""],["field","name","headerText","Daughter cans","width","92","textAlign","Center"],["headerTemplate",""],["template",""],["field","glueName","headerText","Glue Name","width","344","textAlign","Center"],["field","amount","headerText","KG","width","138","textAlign","Center"],[1,"modal-footer","justify-content-center","d-flex"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa","fa-save"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-check"],[2,"position","absolute","top","5000px"],[4,"ngFor","ngForOf"],["width","100px","height","130px","mode","SVG",2,"display","block",3,"id","displayText","value"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"h4",1),c.Kc(2),c.hc(3,"translate"),c.Rb(),c.Rb(),c.Sb(4,"div",2),c.Sb(5,"div",3),c.Sb(6,"div",4),c.Sb(7,"div",5),c.Sb(8,"div",6),c.Sb(9,"h4",7),c.Kc(10),c.hc(11,"translate"),c.Rb(),c.Sb(12,"input",8),c.cc("ngModelChange",function(t){return e.statusText=t}),c.Rb(),c.Sb(13,"input",9),c.cc("ngModelChange",function(t){return e.onNgModelChangeScanQRCode(t)})("ngModelChange",function(t){return e.qrCode=t}),c.Rb(),c.Sb(14,"input",10),c.cc("keyup.enter",function(t){return e.onkeypressV110(t)})("ngModelChange",function(t){return e.can=t}),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",4),c.Sb(16,"div",5),c.Sb(17,"div",11),c.Sb(18,"ejs-grid",12,13),c.Sb(20,"e-columns"),c.Sb(21,"e-column",14),c.Ic(22,S,2,3,"ng-template",null,15,c.Jc),c.Ic(24,B,1,1,"ng-template",null,16,c.Jc),c.Rb(),c.Sb(26,"e-column",17),c.Ic(27,w,2,3,"ng-template",null,15,c.Jc),c.Rb(),c.Nb(29,"e-column",18),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(30,"div",19),c.Sb(31,"button",20),c.cc("click",function(){return e.activeModal.close("Close click")}),c.Nb(32,"i",21),c.Kc(33),c.hc(34,"translate"),c.Rb(),c.Sb(35,"button",22),c.cc("click",function(){return e.printData()}),c.Nb(36,"i",23),c.Kc(37),c.hc(38,"translate"),c.Rb(),c.Rb(),c.Sb(39,"div",24),c.Ic(40,D,2,3,"div",25),c.Rb()),2&t&&(c.zb(2),c.Mc("",c.ic(3,11,"Subpackage")," "),c.zb(8),c.Mc("",c.ic(11,13,"Mother Can"),":"),c.zb(2),c.Bb(e.checkStatus()),c.mc("ngModel",e.statusText),c.zb(1),c.mc("ngModel",e.qrCode),c.zb(1),c.mc("ngModel",e.can),c.zb(4),c.mc("dataSource",e.subpackages),c.zb(15),c.Mc(" ",c.ic(34,15,"SAVE"),""),c.zb(4),c.Mc(" ",c.ic(38,17,"Print"),""),c.zb(3),c.mc("ngForOf",e.subpackages))},directives:[b.b,b.g,b.j,y.a,m.j,v.d,k.d,k.b,m.e,m.b,v.c,k.c,k.a,m.d,m.a,g.m,I.e],pipes:[U.c],styles:["input.warning-scan[_ngcontent-%COMP%]{color:#000!important;-webkit-animation:warning-frames .5s infinite;animation:warning-frames .5s infinite}input.success-scan[_ngcontent-%COMP%], input.warning-scan[_ngcontent-%COMP%]{width:100%;padding:12px 20px;box-sizing:border-box}input.success-scan[_ngcontent-%COMP%]{border:none;background-color:#3cbc8d;font-weight:700;border:none!important;color:#fff!important}@-webkit-keyframes warning-frames{0%{background-color:#fffb00}to{background-color:#ffea75}}@keyframes warning-frames{0%{background-color:#fffb00}to{background-color:#ffea75}}"]}),e}()},"h9f+":function(t,e,i){"use strict";i.d(e,"a",function(){return h});var r=i("2Vo4"),o=i("lJxs"),s=i("tk/3"),u=i("AytR"),c=i("2zK7"),l=i("fXoL");new s.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});var h=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=u.a.apiUrlEC,this.authUrl=u.a.apiUrl,this.messageSource=new r.a(0),this.currentMessage=this.messageSource.asObservable()}return a(t,[{key:"changeMessage",value:function(t){this.messageSource.next(t)}},{key:"getBuildingsAsTreeView",value:function(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}},{key:"mappingUserWithBuilding",value:function(t){return this.http.post(this.baseUrl+"BuildingUser/MappingUserWithBuilding",t)}},{key:"removeBuildingUser",value:function(t){return this.http.post(this.baseUrl+"BuildingUser/RemoveBuildingUser",t)}},{key:"getAllUsers",value:function(t,e){var n=new c.a;return this.http.get("".concat(this.authUrl,"Users/GetAllUsers/").concat(u.a.systemCode,"/").concat(t,"/").concat(e),{observe:"response"}).pipe(Object(o.a)(function(t){return n.result=t.body,null!=t.headers.get("Pagination")&&(n.pagination=JSON.parse(t.headers.get("Pagination"))),n}))}},{key:"deleteUser",value:function(t){return this.http.delete("".concat(this.authUrl,"Users/Delete/").concat(t))}},{key:"updateUser",value:function(t){return this.http.post(this.authUrl+"Users/Update",t)}},{key:"createUser",value:function(t){return this.http.post(this.authUrl+"Users/Create",t)}},{key:"getAllBuildingUsers",value:function(){return this.http.get(this.baseUrl+"BuildingUser/getAllBuildingUsers")}},{key:"getBuildingUserByBuildingID",value:function(t){return this.http.get("".concat(this.baseUrl,"BuildingUser/GetBuildingUserByBuildingID/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Zb(s.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},iStF:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return r});var a=function(){var t=function t(){n(this,t)};return t.ROOT_LEVEL=1,t.BUILDING_LEVEL=2,t.LINE_LEVEL=3,t}(),r=function(){var t=function t(){n(this,t)};return t.ADMIN=1,t.SUPERVISOR=2,t.STAFF=3,t.WORKER=4,t.DISPATCHER=6,t}()},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))(function(a,r){function o(t){try{u(i.next(t))}catch(e){r(e)}}function s(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}u((i=i.apply(t,e||[])).next())})}n.d(e,"a",function(){return i})},"pwR+":function(t,e,i){"use strict";i.d(e,"a",function(){return c});var r=i("2Vo4"),o=i("tk/3"),s=i("AytR"),u=i("fXoL");new o.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});var c=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=s.a.apiUrlEC,this.data=new r.a(null)}return a(t,[{key:"setValue",value:function(t){this.data.next(t)}},{key:"getValue",value:function(){return this.data.asObservable()}},{key:"cancel",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/Cancel",t)}},{key:"cancelRange",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/cancelRange",t)}},{key:"EVAUVList",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/EVAUVList/"+t,{})}},{key:"done",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/Done/"+t,{})}},{key:"todo",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/ToDo/"+t,{})}},{key:"todoAddition",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/ToDoAddition/"+t,{})}},{key:"dispatchAddition",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/dispatchAddition/"+t,{})}},{key:"dispatchList",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/DispatchList/"+t,{})}},{key:"delay",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/Delay/"+t,{})}},{key:"printGlue",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/printGlue/"+t,{})}},{key:"findPrintGlue",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/FindPrintGlue/"+t,{})}},{key:"dispatch",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/Dispatch",t)}},{key:"updateStartStirTimeByMixingInfoID",value:function(t){return this.http.put(this.baseUrl+"BottomFactory/updateStartStirTimeByMixingInfoID/"+t,{})}},{key:"updateFinishStirTimeByMixingInfoID",value:function(t){return this.http.put(this.baseUrl+"BottomFactory/updateFinishStirTimeByMixingInfoID/"+t,{})}},{key:"generateToDoList",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateToDoList",t)}},{key:"generateDispatchList",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateDispatchList",t)}},{key:"exportExcel",value:function(t){return this.http.get("".concat(this.baseUrl,"BottomFactory/ExportExcel/").concat(t),{responseType:"blob"})}},{key:"exportExcel2",value:function(t){return this.http.get("".concat(this.baseUrl,"BottomFactory/GetNewReport/").concat(t),{responseType:"blob"})}},{key:"getMixingDetail",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/GetMixingDetail",{glueName:t})}},{key:"finishDispatch",value:function(t){return this.http.put(this.baseUrl+"BottomFactory/FinishDispatch",t)}},{key:"getDispatchDetail",value:function(t,e,n,i){return this.http.get("".concat(this.baseUrl,"BottomFactory/GetDispatchDetail/").concat(t,"/").concat(e,"/").concat(n,"/").concat(i))}},{key:"getMixingInfoHistory",value:function(t,e,n,i){return this.http.get("".concat(this.baseUrl,"BottomFactory/GetMixingInfoHistory/").concat(t,"/").concat(e,"/").concat(n,"/").concat(i))}},{key:"updateDispatchDetail",value:function(t){return this.http.put(this.baseUrl+"BottomFactory/UpdateDispatchDetail",t)}},{key:"getDispatchListDetail",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"BottomFactory/GetDispatchListDetail/").concat(t,"/").concat(e,"/").concat(n))}},{key:"printGlueDispatchList",value:function(t,e,n,i){return this.http.get("".concat(this.baseUrl,"BottomFactory/printGlueDispatchList/").concat(t,"/").concat(e,"/").concat(n,"/").concat(i),{})}},{key:"updateMixingInfoDispatchList",value:function(t,e,n,i){return this.http.get("".concat(this.baseUrl,"BottomFactory/UpdateMixingInfoDispatchList/").concat(t,"/").concat(e,"/").concat(n,"/").concat(i),{})}},{key:"addOvertime",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/AddOvertime",t)}},{key:"removeOvertime",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/RemoveOvertime",t)}},{key:"dispatchListDelay",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/DispatchListDelay/"+t,{})}},{key:"scanQRCode",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/scanQRCode/",t)}},{key:"generateScanByNumber",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/GenerateScanByNumber/",t)}},{key:"print",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/Print",{subpackages:t})}},{key:"saveSubpackage",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/SaveSubpackage",t)}},{key:"addDispatch",value:function(t){return this.http.post(this.baseUrl+"BottomFactory/addDispatch",t)}},{key:"updateDispatch",value:function(t){return this.http.put(this.baseUrl+"BottomFactory/UpdateDispatch",t)}},{key:"getAllDispatch",value:function(t){var e=(new o.f).set("buildingID",t.buildingID+"").set("mixingInfoID",t.mixingInfoID+"").set("glueNameID",t.glueNameID+"");return this.http.get(this.baseUrl+"BottomFactory/GetAllDispatch",{params:e})}},{key:"getMixingInfo",value:function(t){return this.http.get(this.baseUrl+"BottomFactory/GetMixingInfo/"+t,{})}},{key:"getSubpackageCapacity",value:function(){return this.http.get(this.baseUrl+"BottomFactory/GetSubpackageCapacity",{})}},{key:"getSubpackageLatestSequence",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"BottomFactory/GetSubpackageLatestSequence/").concat(t,"/").concat(e,"/").concat(n),{})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Zb(o.b))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},vrRs:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var r=i("tk/3"),o=i("2Vo4"),s=i("lJxs"),u=i("AytR"),c=i("2zK7"),l=i("fXoL");new r.e({"Content-Type":"application/json"});var h=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=u.a.apiUrlEC,this.ingredientSource=new o.a(0),this.currentIngredient=this.ingredientSource.asObservable()}return a(t,[{key:"getIngredients",value:function(t,e){var n=new c.a,i=new r.f;return null!=t&&null!=e&&(i=(i=i.append("pageNumber",t)).append("pageSize",e)),this.http.get(this.baseUrl+"ingredient/getingredients",{observe:"response",params:i}).pipe(Object(s.a)(function(t){return n.result=t.body,null!=t.headers.get("Pagination")&&(n.pagination=JSON.parse(t.headers.get("Pagination"))),n}))}},{key:"search",value:function(t,e,n){var i=new c.a,a=new r.f;return null!=t&&null!=e&&(a=(a=a.append("pageNumber",t)).append("pageSize",e)),this.http.get(this.baseUrl+"ingredient/Search/"+n,{observe:"response",params:a}).pipe(Object(s.a)(function(t){return i.result=t.body,null!=t.headers.get("Pagination")&&(i.pagination=JSON.parse(t.headers.get("Pagination"))),i}))}},{key:"getAllIngredient",value:function(){return this.http.get(this.baseUrl+"ingredient/GetAll",{})}},{key:"getAllGlueType",value:function(){return this.http.get(this.baseUrl+"ingredient/GetAllGlueType",{})}},{key:"getByID",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+t,{})}},{key:"scanQRCode",value:function(t){return this.http.get(this.baseUrl+"ingredient/ScanQRCode/"+t,{})}},{key:"scanQRCodeFromChemicalWareHouse",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"ingredient/ScanQRCodeFromChemialWareHouse/").concat(t,"/").concat(e,"/").concat(n),{})}},{key:"scanQRCodeOutput",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"ingredient/ScanQRCodeOutput/").concat(t,"/").concat(e,"/").concat(n),{})}},{key:"getAllSupplier",value:function(){return this.http.get(this.baseUrl+"Suppier/GetAll",{})}},{key:"getAllIngredientInfo",value:function(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfo",{})}},{key:"getAllIngredientInfoOutput",value:function(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutPut",{})}},{key:"getAllIngredientInfoByBuildingName",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuildingName/"+t,{})}},{key:"getAllIngredientInfoReport",value:function(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReport",{})}},{key:"getAllIngredientInfoReportByBuildingName",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReportByBuildingName/"+t,{})}},{key:"searchInventory",value:function(t,e){return this.http.get("".concat(this.baseUrl,"ingredient/Search/").concat(t,"/").concat(e),{})}},{key:"searchInventoryByBuildingName",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"ingredient/SearchWithBuildingName/").concat(t,"/").concat(e,"/").concat(n),{})}},{key:"deleteIngredientInfo",value:function(t,e,n,i){return this.http.delete(this.baseUrl+"ingredient/DeleteIngredientInfo/".concat(t,"/").concat(e,"/").concat(n,"/").concat(i))}},{key:"UpdateConsumption",value:function(t,e,n){return this.http.post(this.baseUrl+"ingredient/UpdateConsumptionIngredientReport/".concat(t,"/").concat(e,"/").concat(n),{})}},{key:"UpdateConsumptionOfBuilding",value:function(t){return this.http.post(this.baseUrl+"ingredient/UpdateConsumptionOfBuildingIngredientReport",t)}},{key:"createSub",value:function(t){return this.http.post(this.baseUrl+"suppier/create",t)}},{key:"updateSub",value:function(t){return this.http.put(this.baseUrl+"suppier/update",t)}},{key:"deleteSub",value:function(t){return this.http.delete(this.baseUrl+"suppier/delete/"+t)}},{key:"sortBySup",value:function(t,e){return this.http.get(this.baseUrl+"GlueIngredient/GetIngredientsByGlueID/".concat(t,"/").concat(e))}},{key:"getIngredientsByGlueID",value:function(t){return this.http.get(this.baseUrl+"GlueIngredient/GetIngredientsByGlueID/"+t)}},{key:"create",value:function(t){return this.http.post(this.baseUrl+"ingredient/create1",t)}},{key:"update",value:function(t){return this.http.put(this.baseUrl+"ingredient/update",t)}},{key:"delete",value:function(t){return this.http.delete(this.baseUrl+"ingredient/delete/"+t)}},{key:"changeIngredient",value:function(t){this.ingredientSource.next(t)}},{key:"import",value:function(t,e){var n=new FormData;return n.append("UploadedFile",t),n.append("CreatedBy",e),this.http.post(this.baseUrl+"ingredient/Import",n)}},{key:"downloadFile",value:function(){return this.http.post(this.baseUrl+"ingredient/ExcelExport",{})}},{key:"GetQrcodeByid",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+t)}},{key:"UpdatePrint",value:function(t){return this.http.put(this.baseUrl+"ingredient/UpdatePrint",t)}},{key:"checkIncoming",value:function(t,e,n){return this.http.get("".concat(this.baseUrl,"ingredient/CheckIncoming/").concat(t,"/").concat(e,"/").concat(n),{})}},{key:"getAllIngredientInfoByBuilding",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuilding/"+t,{})}},{key:"getAllIngredientInfoOutputByBuilding",value:function(t){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutputByBuilding/"+t,{})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Zb(r.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},wsp1:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var r=i("2Vo4"),o=i("tk/3"),s=i("AytR"),u=i("fXoL");new o.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});var c=function(){var t=function(){function t(e){n(this,t),this.http=e,this.baseUrl=s.a.apiUrlEC,this.messageSource=new r.a(0),this.currentMessage=this.messageSource.asObservable()}return a(t,[{key:"changeMessage",value:function(t){this.messageSource.next(t)}},{key:"delete",value:function(t){return this.http.delete("".concat(this.baseUrl,"Building/Delete/").concat(t))}},{key:"rename",value:function(t){return this.http.put(this.baseUrl+"Building/Update",t)}},{key:"getBuildingsAsTreeView",value:function(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}},{key:"getBuildings",value:function(){return this.http.get(this.baseUrl+"Building/GetBuildings")}},{key:"getAllBuildingType",value:function(){return this.http.get(this.baseUrl+"Building/getAllBuildingType")}},{key:"getBuildingsForSetting",value:function(){return this.http.get(this.baseUrl+"Building/GetBuildingsForSetting")}},{key:"addOrUpdateLunchTime",value:function(t){return this.http.post(this.baseUrl+"Building/AddOrUpdateLunchTime",t)}},{key:"createMainBuilding",value:function(t){return this.http.post(this.baseUrl+"Building/CreateMainBuilding",t)}},{key:"createSubBuilding",value:function(t){return this.http.post(this.baseUrl+"Building/CreateSubBuilding",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Zb(o.b))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();